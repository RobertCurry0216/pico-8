pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
--main
function _init()
	cards={}
	cols={
				"red", "blue"
				,"yellow","green"
			}
		vals={
			"sun", "moon", "key"
		}
	for i=1,5 do
		add(cards,
		card:new(
			cols[ceil(rnd(4))],
			vals[ceil(rnd(3))]
		))
	end
end

function _update()

end

function _draw()
	cls(1)
	draw_board(cards)
end
-->8
--card
c_cols={
	red=8,
	blue=12,
	green=3,
	yellow=9
}

c_vals={
	sun=1,
	moon=2,
	key=3
}

card={
	__tostring=function(self)
		return "<card:"
		..self.color..":"
		..self.value..">"
	end
}

function card:new(col,val)
	local c={}
	--constructor
	setmetatable(c,card)
	c.color=col
	c.value=val
	--methods
	function c:draw(x,y)
		card_draw(self,x,y)
	end
	--end class
	return c
end

function card_draw(c,x,y)
	rect(x-1,y,x+8,y+11,7)
	rect(x,y-1,x+7,y+12,7)
	rectfill(x,y,x+7,y+11,c_cols[c.color])
	spr(c_vals[c.value],x,y+2)
end
-->8
--ui stuff

--board
function draw_board(cards)
	local x,y=60-4*#cards,12
	local dy=1
	for c in all(cards) do
		c:draw(x,y+min(dy,0))
		x+=4
		dy*=-1
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007077000077770000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700070770700777007000700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000077777000770000000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000007777700770000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700070770700777007000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007707000077770000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
